import requests
import datetime

url1 = "http://127.0.0.1:8000/eos_calc"
url2 = "https://electroacoustic-junctional-perry.ngrok-free.dev/eos_calc"

begin = datetime.datetime.now()

input_data = {
    "components": [
        {"Cmp": {
            "name": "CO2",
            "formula": "CO2",
            "Mw": 44.01,
            "Tc": 304.7,
            "Pc": 73.866,
            "omega": 0.225,
            "fraction": 0.85,
            "Cp": 0.846,
            "nasa_mid": 1000.0,
            "nasa_low": [
                49436.5054, -626.411601, 5.30172524,
                0.002503813816, -2.127308728e-07, -7.68998878e-10,
                2.849677801e-13, -45281.9846, -7.04827944
            ],
            "nasa_high": [
                117696.2419, -1788.791477, 8.29152319,
                -9.22315678e-05, 4.86367688e-09, -1.891053312e-12,
                6.33003659e-16, -39083.5059, -26.52669281
            ]
        }},
        {"Cmp": {
            "name": "O2",
            "formula": "O2",
            "Mw": 32.0,
            "Tc": 154.6,
            "Pc": 50.43,
            "omega": 0.0222,
            "fraction": 0.0469,
            "Cp": 0.918,
            "nasa_mid": 1000.0,
            "nasa_low": [
                -34255.6342, 484.700097, 1.119010961,
                0.00429388924, -6.83630052e-07, -2.0233727e-09,
                1.039040018e-12, -3391.45487, 18.4969947
            ],
            "nasa_high": [
                -1037939.022, 2344.830282, 1.819732036,
                0.001267847582, -2.188067988e-07, 2.053719572e-11,
                -8.19346705e-16, -16890.10929, 17.38716506
            ]
        }},
        {"Cmp": {
            "name": "N2",
            "formula": "N2",
            "Mw": 28.013,
            "Tc": 126.2,
            "Pc": 33.944,
            "omega": 0.04,
            "fraction": 0.058,
            "Cp": 1.04,
            "nasa_mid": 1000.0,
            "nasa_low": [
                22103.71497, -381.846182, 6.08273836,
                -0.00853091441, 1.384646189e-05, -9.62579362e-09,
                2.519705809e-12, 710.846086, -10.76003744
            ],
            "nasa_high": [
                587712.406, -2239.249073, 6.06694922,
                -0.00061396855, 1.491806679e-07, -1.923105485e-11,
                1.061954386e-15, 12832.10415, -15.86640027
            ]
        }},
        {"Cmp": {
            "name": "Ar",
            "formula": "Ar",
            "Mw": 39.948,
            "Tc": 150.8,
            "Pc": 48.63,
            "omega": -0.004,
            "fraction": 0.0447,
            "Cp": 0.5203,
            "nasa_mid": 1000.0,
            "nasa_low": [
                0.0, 0.0, 2.5,
                0.0, 0.0, 0.0,
                0.0, -745.375, 4.37967491
            ],
            "nasa_high": [
                201.0538475, -0.599142338, 2.500069401,
                -3.99214116e-07, 2.435053858e-10, -8.19508622e-14,
                1.051992275e-17, -744.993961, 4.37918011
            ]
        }},
        {"Cmp": {
            "name": "H2O",
            "formula": "H2O",
            "Mw": 18.015,
            "Tc": 647.1,
            "Pc": 220.64,
            "omega": 0.344,
            "fraction": 0.0001,
            "Cp": 1.87,
            "nasa_low": [
                -39479.6083, 575.573102, 0.931782653,
                0.00722271286, -7.34255737e-06, 4.95504349e-09,
                -1.336933246e-12, -33039.7431, 17.24205775
            ],
            "nasa_high": [
                1034972.096, -2412.698562, 4.64611078,
                0.002291998307, -6.83683048e-07, 9.42646893e-11,
                -4.82238053e-15, -13842.86509, -7.97814851
            ],
            "nasa_mid": 1000.0
        }},
        {"Cmp": {
            "name": "NO",
            "formula": "NO",
            "Mw": 30.006,
            "Tc": 180.0,
            "Pc": 64.0,
            "omega": 0.584,
            "fraction": 0.0001,
            "Cp": 0.995,
            "nasa_low": [
                -1.143916503e+04, 1.536467592e+02, 3.431468730e+00,
                -2.668592368e-03, 8.481399120e-06, -7.685111050e-09,
                2.386797655e-12, 9.098214410e+03, 6.728725490e+00
            ],
            "nasa_high": [
                2.239018716e+05, -1.289651623e+03, 5.433936030e+00,
                -3.656034900e-04, 9.880966450e-08, -1.416076856e-11,
                9.380184620e-16, 1.750317656e+04, -8.501669090e+00
            ],
            "nasa_mid": 1000.0
        }},
        {"Cmp": {
            "name": "SO2",
            "formula": "SO2",
            "Mw": 64.066,
            "Tc": 430.8,
            "Pc": 77.8,
            "omega": 0.251,
            "fraction": 0.00005,
            "Cp": 0.64,
            "nasa_low": [
                -5.310842140e+04, 9.090311670e+02, -2.356891244e+00,
                2.204449885e-02, -2.510781471e-05, 1.446300484e-08,
                -3.369070940e-12, -4.113752080e+04, 4.045512519e+01
            ],
            "nasa_high": [
                -1.127640116e+05, -8.252261380e+02, 7.616178630e+00,
                -1.999327610e-04, 5.655631430e-08, -5.454316610e-12,
                2.918294102e-16, -3.351308690e+04, -1.655776085e+01
            ],
            "nasa_mid": 1000.0
        }},
        {"Cmp": {
            "name": "SO3",
            "formula": "SO3",
            "Mw": 80.063,
            "Tc": 490.0,
            "Pc": 83.0,
            "omega": 0.315,
            "fraction": 0.00005,
            "Cp": 0.632,
            "nasa_low": [
                -3.952855290e+04, 6.208572570e+02, -1.437731716e+00,
                2.764126467e-02, -3.144958662e-05, 1.792798000e-08,
                -4.126386660e-12, -5.184106170e+04, 3.391331216e+01
            ],
            "nasa_high": [
                -2.166923781e+05, -1.301022399e+03, 1.096287985e+01,
                -3.837100020e-04, 8.466889040e-08, -9.705399290e-12,
                4.498397540e-16, -4.398283990e+04, -3.655217314e+01
            ],
            "nasa_mid": 1000.0
        }},
        {"Cmp": {
            "name": "CO",
            "formula": "CO",
            "Mw": 28.010,
            "Tc": 132.9,
            "Pc": 34.94,
            "omega": 0.045,
            "fraction": 0.00005,
            "Cp": 1.04,
            "nasa_low": [
                1.489045326e+04, -2.922285939e+02, 5.724527170e+00,
                -8.176235030e-03, 1.456903469e-05, -1.087746302e-08,
                3.027941827e-12, -1.303131878e+04, -7.859241350e+00
            ],
            "nasa_high": [
                4.619197250e+05, -1.944704863e+03, 5.916714180e+00,
                -5.664282830e-04, 1.398814540e-07, -1.787680361e-11,
                9.620935570e-16, -2.466261084e+03, -1.387413108e+01
            ],
            "nasa_mid": 1000.0
        }},
        {"Cmp": {
            "name": "H2S",
            "formula": "H2S+COS",
            "Mw": 34.08,
            "Tc": 373.2,
            "Pc": 88.0,
            "omega": 0.1,
            "fraction": 0.00005,
            "Cp": 0.243,
            "nasa_low": [
                9.543808810e+03, -6.875175080e+01, 4.054921960e+00,
                -3.014557336e-04, 3.768497750e-06, -2.239358925e-09,
                3.086859108e-13, -3.278457280e+03, 1.415194691e+00
            ],
            "nasa_high": [
                1.430040220e+06, -5.284028650e+03, 1.016182124e+01,
                -9.703849960e-04, 2.154003405e-07, -2.169695700e-11,
                9.318163070e-16, 2.908696214e+04, -4.349160391e+01
            ],
            "nasa_mid": 1000.0
        }}
    ],
    "T": 245.15,
    "P": 40.0,
    "eos_type": "PR",
    "method": "FSOLVE"
}

response = requests.post(url1, json=input_data)

if response.status_code == 200:
    result = response.json()
    end = datetime.datetime.now()
    runtime = end - begin
    print(result)
    print(f"Runtime: {runtime}")
else:
    print(f"Greska: {response.status_code}")
    print(response.text)
